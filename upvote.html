<html>
<head>
  <title>Upvote</title>
</head>
<body>
  <h1> Enter Category </h1>
  <label> Act ID </label><br><br>
  <input type="number" required id = "id"><br><br>
  <button type="submit" onclick="fun()">Submit </button>
  <script>
  function fun()
  {
    var id = Number(document.getElementById("id").value);
    var cur_url = document.URL;
    var arr = cur_url.split("?");
    var cat = arr[1];
    if(id == "")
    {
      alert("ID is empty");
      location.replace(upvote.html);
    }
    req = new XMLHttpRequest();
    var url = "http://127.0.0.1:5000/api/v1/acts/upvote";
    req.open("POST", url, true);
    req.setRequestHeader("Content-type", "application/json");
    var data = JSON.stringify([id]);
    req.send(data);
    req.onload = function()
    {
      if(req.status == 200)
      {
        alert("Upvoted");
        location.replace("act.html?"+cat);
      }
      else if(req.status == 405)
      {
        alert("Invalid ActID");
        location.replace("upvote.html?"+cat);
      }
    }

  }
  </script>
</body>
</html>
